{% extends 'agctrucking/base.html' %}

{% block title %}
<title>AGC Orders</title>
{% endblock title %}

{% block content %}

<div id="sortSearch">
    <nav class="navbar navbar-expand-lg navbar-light bg-light" style="position: sticky; top: 0;">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="nav-link" href="{% url 'agctrucking:main' %}">Open Orders <span class="sr-only"></span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'agctrucking:shipped' %}">Shipped Orders</a>
            </li>
        </ul>
        <input class="fuzzy-search nav-item" placeholder="Search" />
    </nav>


    <table class="table table-striped">
        <thead>
            <tr>
                <th scope="col" class="sort" data-sort="order" style="width: 100px">Order</th>
                <th scope="col" class="sort" data-sort="company">Company</th>
                <th scope="col" class="sort" data-sort="orginalshipdate">Original Ship Date</th>
                <th scope="col" class="sort" data-sort="product">Product</th>
                <th scope="col" class="sort" data-sort="tons">Tons</th>
                <th scope="col" class="sort" data-sort="projectedshipdate">Projected Ship Date</th>
                <th scope="col">Requested Delivery Date</th>
                <th scope="col" class="sort" data-sort="truck">Trucking Confirmed</th>
                <th scope="col" class="sort" data-sort="contact">Shipping Contact</th>
                <th scope="col" class="sort" data-sort="notes">Correspondence Notes</th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody class=list>
            {% for ord in orders|dictsort:2 %}
            <tr>
                <td scope="row" class="order" id="{{ ord.0 }}">{{ ord.0 }}</td>
                <td scope="row" class="company">{{ ord.1 }}</td>
                <td scope="row" class="orginalshipdate">{{ ord.2|date }}</td>
                <td scope="row" class="product">{{ ord.3 }}</td>
                <td scope="row" class="tons">{{ ord.4 }}</td>
                <td scope="row" class="projectedshipdate">{{ ord.5|date }}</td>
                <td class="delivery">{{ ord.6|date }}</td>
                <td class="truck"><input type="checkbox" name="truckingconfirmed" {% if ord.7 %} Checked {% endif %}
                        onclick="return false;" /> </td>
                <td class="contact">{% if ord.8|length|get_digit:"-1" > 3 %}{{ ord.8 }}{% endif %}</td>
                <td class="notes">{% if ord.9|length|get_digit:"-1" > 3 %}{{ ord.9 }}{% endif %}</td>
                <!--<td>{{ ord.10 }}</td>-->
                <td><a style="margin-right: 30px;" href="{% url 'agctrucking:edit' ord.0 %}"><button>Edit</button></a>
                <td><a style="margin-right: 30px;" href="{% url 'agctrucking:delete' ord.0 %}">Delete</a>
                </td>
            </tr>

</div>
{% endfor %}
</tbody>
</table>
</div>


<!-- script for sort functionality-->
<script src="//cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>

<script>
    var options = {
        valueNames: ['order', 'company', 'orginalshipdate', 'product', 'tons', 'projectedshipdate', 'delivery', 'truck', 'contact', 'notes']
    };

    var orderList = new List('sortSearch', options);
</script>




{% endblock content %}